<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shadow Slave Compendium</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
    --primary: #0a0a0f;
    --secondary: #12121a;
    --accent: #1a1a2a;
    --highlight: #8b5cf6;
    --highlight-glow: rgba(139, 92, 246, 0.3);
    --secondary-accent: #06b6d4;
    --text: #e2e8f0;
    --text-secondary: #94a3b8;
    --danger: #ef4444;
    --warning: #f59e0b;
    --success: #10b981;
    --card-bg: rgba(26, 26, 42, 0.7);
    --glass-bg: rgba(18, 18, 26, 0.8);
    --gradient: linear-gradient(135deg, #8b5cf6 0%, #06b6d4 50%, #0ea5e9 100%);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Poppins', 'Segoe UI', sans-serif;
}

body {
    background-color: var(--primary);
    color: var(--text);
    line-height: 1.6;
    overflow-x: hidden;
    background-image: 
        radial-gradient(circle at 10% 20%, rgba(139, 92, 246, 0.1) 0%, transparent 20%),
        radial-gradient(circle at 90% 80%, rgba(6, 182, 212, 0.1) 0%, transparent 20%),
        linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
}


        .container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background-color: rgba(10, 10, 20, 0.9);
            padding: 1.2rem 0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo h1 {
            font-size: 1.8rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .logo-icon {
            font-size: 2.2rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2.2rem;
        }

        nav a {
            color: var(--text);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            padding: 8px 16px;
            border-radius: 30px;
            position: relative;
            overflow: hidden;
        }

        nav a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--gradient);
            transition: left 0.4s;
            z-index: -1;
            opacity: 0.1;
        }

        nav a:hover::before, nav a.active::before {
            left: 0;
        }

        nav a:hover, nav a.active {
            color: var(--highlight);
        }

        .hero {
            padding: 6rem 0 4rem;
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(255, 42, 109, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(5, 217, 232, 0.15) 0%, transparent 50%);
            z-index: -1;
        }

        .hero h2 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(90deg, var(--text), var(--highlight));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.3rem;
            max-width: 800px;
            margin: 0 auto 3rem;
            color: var(--text-secondary);
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: var(--gradient);
            color: white;
            padding: 14px 35px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.4s;
            border: none;
            cursor: pointer;
            box-shadow: 0 5px 15px var(--highlight-glow);
            position: relative;
            overflow: hidden;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.7s;
        }

        .cta-button:hover::before {
            left: 100%;
        }

        .cta-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px var(--highlight-glow);
        }

        .stats-bar {
            display: flex;
            justify-content: space-around;
            background: var(--glass-bg);
            padding: 1.5rem;
            border-radius: 15px;
            margin: 3rem auto;
            max-width: 900px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-top: 5px;
        }

        .spoiler-settings {
            background: var(--glass-bg);
            padding: 1.5rem;
            border-radius: 15px;
            margin-bottom: 3rem;
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .spoiler-settings label {
            font-weight: 500;
            color: var(--text-secondary);
        }

        .chapter-input {
            background-color: var(--accent);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text);
            padding: 10px 15px;
            border-radius: 8px;
            width: 120px;
            transition: all 0.3s;
        }

        .chapter-input:focus {
            outline: none;
            border-color: var(--highlight);
            box-shadow: 0 0 0 2px var(--highlight-glow);
        }

        .section-title {
            font-size: 2.2rem;
            margin-bottom: 2.5rem;
            padding-bottom: 12px;
            border-bottom: 3px solid;
            border-image: var(--gradient) 1;
            display: inline-block;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 50px;
            height: 3px;
            background: var(--highlight);
        }

        .content-section {
            margin-bottom: 5rem;
            padding: 2.5rem;
            background: var(--glass-bg);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
            overflow: hidden;
        }

        .content-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient);
        }

        .character-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
        }

        .character-card {
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.4s;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
        }

        .character-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
            border-color: rgba(255, 42, 109, 0.3);
        }

        .character-image {
            height: 220px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--secondary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            color: var(--highlight);
            position: relative;
            overflow: hidden;
        }

        .character-image::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: linear-gradient(transparent, var(--card-bg));
        }

        .character-info {
            padding: 1.8rem;
        }

        .character-name {
            font-size: 1.6rem;
            margin-bottom: 0.5rem;
            color: var(--highlight);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .character-aspect {
            display: inline-block;
            background: var(--gradient);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .character-description {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            line-height: 1.7;
        }

        .character-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 1.5rem;
        }

        .stat {
            text-align: center;
            flex: 1;
        }

        .stat-value {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--highlight);
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 5px;
        }

        .timeline {
            position: relative;
            max-width: 900px;
            margin: 0 auto;
        }

        .timeline::after {
            content: '';
            position: absolute;
            width: 6px;
            background: var(--gradient);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
            border-radius: 10px;
        }

        .timeline-item {
            padding: 15px 40px;
            position: relative;
            width: 50%;
            box-sizing: border-box;
        }

        .timeline-item:nth-child(odd) {
            left: 0;
        }

        .timeline-item:nth-child(even) {
            left: 50%;
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            width: 24px;
            height: 24px;
            background: var(--highlight);
            border: 4px solid var(--accent);
            top: 20px;
            border-radius: 50%;
            z-index: 1;
            box-shadow: 0 0 0 4px var(--highlight-glow);
        }

        .timeline-item:nth-child(odd)::after {
            right: -12px;
        }

        .timeline-item:nth-child(even)::after {
            left: -12px;
        }

        .timeline-content {
            padding: 25px;
            background: var(--card-bg);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s;
        }

        .timeline-content:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .timeline-title {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--highlight);
        }

        .timeline-chapter {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .echo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
        }

        .echo-card {
            background: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.4s;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .echo-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }

        .echo-image {
            height: 180px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--secondary) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: var(--secondary-accent);
            position: relative;
        }

        .echo-image::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: linear-gradient(transparent, var(--card-bg));
        }

        .echo-info {
            padding: 1.5rem;
        }

        .echo-name {
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
            color: var(--secondary-accent);
        }

        .echo-rank {
            display: inline-block;
            background: linear-gradient(135deg, var(--secondary-accent) 0%, #05a8b8 100%);
            color: var(--primary);
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.75rem;
            font-weight: bold;
            margin-bottom: 0.8rem;
        }

        .theory-form {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 3rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.8rem;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            background-color: var(--accent);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: var(--text);
            transition: all 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--highlight);
            box-shadow: 0 0 0 2px var(--highlight-glow);
        }

        textarea.form-control {
            min-height: 150px;
            resize: vertical;
        }

        .theory-list {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .theory-card {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s;
        }

        .theory-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .theory-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1.2rem;
        }

        .theory-title {
            font-size: 1.4rem;
            color: var(--highlight);
        }

        .theory-meta {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .theory-tags {
            display: flex;
            gap: 0.7rem;
            margin-top: 0.8rem;
            flex-wrap: wrap;
        }

        .theory-tag {
            background-color: var(--accent);
            color: var(--text-secondary);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .theory-actions {
            display: flex;
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .upvote-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            padding: 8px 15px;
            border-radius: 30px;
            background: rgba(255, 255, 255, 0.05);
        }

        .upvote-btn:hover, .upvote-btn.active {
            color: var(--highlight);
            background: rgba(255, 42, 109, 0.1);
        }

        footer {
            background-color: var(--secondary);
            padding: 4rem 0 2rem;
            margin-top: 5rem;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .footer-content {
            max-width: 900px;
            margin: 0 auto;
        }

        .footer-logo {
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2.5rem;
            margin: 2.5rem 0;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s;
            position: relative;
        }

        .footer-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gradient);
            transition: width 0.3s;
        }

        .footer-links a:hover {
            color: var(--highlight);
        }

        .footer-links a:hover::after {
            width: 100%;
        }

        .copyright {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 2.5rem;
        }

        .spoiler-blur {
            filter: blur(10px);
            user-select: none;
            position: relative;
        }

        .spoiler-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(21, 21, 43, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 15px;
            transition: all 0.3s;
        }

        .spoiler-overlay:hover {
            background: rgba(21, 21, 43, 0.8);
        }

        .spoiler-text {
            background: var(--gradient);
            padding: 12px 25px;
            border-radius: 30px;
            color: white;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        @media (max-width: 968px) {
            .header-content {
                flex-direction: column;
                gap: 1.5rem;
            }

            nav ul {
                gap: 1.2rem;
            }

            .hero h2 {
                font-size: 2.5rem;
            }

            .timeline::after {
                left: 31px;
            }

            .timeline-item {
                width: 100%;
                padding-left: 80px;
                padding-right: 25px;
            }

            .timeline-item:nth-child(even) {
                left: 0;
            }

            .timeline-item::after {
                left: 24px;
            }

            .character-grid {
                grid-template-columns: 1fr;
            }

            .stats-bar {
                flex-direction: column;
                gap: 1.5rem;
            }
        }

        .floating-nav {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .nav-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--gradient);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 5px 15px var(--highlight-glow);
            transition: all 0.3s;
            border: none;
        }

        .nav-btn:hover {
            transform: scale(1.1);
        }

        .search-box {
            display: flex;
            margin-bottom: 2rem;
        }

        .search-input {
            flex: 1;
            padding: 12px 20px;
            background: var(--accent);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 50px 0 0 50px;
            color: var(--text);
            transition: all 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--highlight);
            box-shadow: 0 0 0 2px var(--highlight-glow);
        }

        .search-btn {
            padding: 0 25px;
            background: var(--gradient);
            color: white;
            border: none;
            border-radius: 0 50px 50px 0;
            cursor: pointer;
            transition: all 0.3s;
        }

        .search-btn:hover {
            background: linear-gradient(135deg, #e02460 0%, #04c2d1 100%);
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">
                <div class="logo-icon"><i class="fas fa-moon"></i></div>
                <h1>Shadow Slave Compendium</h1>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="active"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="#characters"><i class="fas fa-users"></i> Characters</a></li>
                    <li><a href="#timeline"><i class="fas fa-history"></i> Timeline</a></li>
                    <li><a href="#echoes"><i class="fas fa-ghost"></i> Echoes</a></li>
                    <li><a href="#theories"><i class="fas fa-lightbulb"></i> Theories</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h2>Dive into the World of Shadow Slave</h2>
            <p>An immersive companion to Guerric's epic webnovel. Explore character profiles, story timeline, echoes database, and join our theory-crafting community.</p>
            <button class="cta-button" id="exploreBtn">
                <i class="fas fa-compass"></i> Explore the Compendium
            </button>
        </div>
    </section>

    <div class="container">
        <div class="stats-bar">
            <div class="stat-item">
                <div class="stat-value">1,500+</div>
                <div class="stat-label">Chapters</div>
            </div>
            <div class="stat-item">
                <div class="stat-value">50+</div>
                <div class="stat-label">Characters</div>
            </div>
            <div class="stat-item">
                <div class="stat-value">120+</div>
                <div class="stat-label">Echoes</div>
            </div>
            <div class="stat-item">
                <div class="stat-value">300+</div>
                <div class="stat-label">Theories</div>
            </div>
        </div>

        <div class="spoiler-settings">
            <label for="currentChapter"><i class="fas fa-eye-slash"></i> Set your current chapter to avoid spoilers:</label>
            <input type="number" id="currentChapter" class="chapter-input" min="1" max="1500" value="1">
            <button class="cta-button" id="saveChapter">Save</button>
            <span id="spoilerStatus" style="margin-left: auto;"><i class="fas fa-shield-alt"></i> Spoiler protection: ON</span>
        </div>

        <div class="search-box">
            <input type="text" class="search-input" placeholder="Search characters, echoes, theories...">
            <button class="search-btn"><i class="fas fa-search"></i></button>
        </div>

        <section id="characters" class="content-section">
            <h2 class="section-title">Characters</h2>
            <div class="character-grid" id="characterGrid">
            </div>
        </section>

        <section id="timeline" class="content-section">
            <h2 class="section-title">Story Timeline</h2>
            <div class="timeline" id="timelineContainer">
            </div>
        </section>

        <section id="echoes" class="content-section">
            <h2 class="section-title">Echo Codex</h2>
            <div class="echo-gallery" id="echoGallery">
            </div>
        </section>

        <section id="theories" class="content-section">
            <h2 class="section-title">Theory Hub</h2>
            
            <div class="theory-form">
                <h3><i class="fas fa-pen-alt"></i> Share Your Theory</h3>
                <div class="form-group">
                    <label for="theoryTitle">Title</label>
                    <input type="text" id="theoryTitle" class="form-control" placeholder="Enter your theory title">
                </div>
                <div class="form-group">
                    <label for="theoryContent">Theory</label>
                    <textarea id="theoryContent" class="form-control" placeholder="Explain your theory in detail..."></textarea>
                </div>
                <div class="form-group">
                    <label for="theoryTags">Tags (comma separated)</label>
                    <input type="text" id="theoryTags" class="form-control" placeholder="e.g., True Name, Weaver, Nephis">
                </div>
                <button class="cta-button" id="submitTheory"><i class="fas fa-paper-plane"></i> Submit Theory</button>
            </div>

            <div class="theory-list" id="theoryList">
            </div>
        </section>
    </div>

    <div class="floating-nav">
        <button class="nav-btn" id="toTopBtn"><i class="fas fa-arrow-up"></i></button>
        <button class="nav-btn" id="themeToggle"><i class="fas fa-palette"></i></button>
        <button class="nav-btn" id="discordBtn"><i class="fab fa-discord"></i></button>
    </div>

    <footer>
        <div class="container footer-content">
            <div class="footer-logo">Shadow Slave Compendium</div>
            <p>A fan-made companion website for Guerric's Shadow Slave</p>
            <div class="footer-links">
                <a href="#">Home</a>
                <a href="#characters">Characters</a>
                <a href="#timeline">Timeline</a>
                <a href="#echoes">Echoes</a>
                <a href="#theories">Theories</a>
                <a href="#">About</a>
                <a href="#">Contact</a>
            </div>
            <div class="copyright">
                &copy; 2023 Shadow Slave Compendium. All rights to the Shadow Slave story belong to Guerric.
            </div>
        </div>
    </footer>

    <script>
        const characters = [
    {
        id: 1,
        name: "Sunny",
        alias: "Sunless",
        aspect: "Shadow",
        rank: "Awakened",
        description: "The protagonist of Shadow Slave. Originally a street rat from the outskirts, he was chosen by the Spell and thrown into the nightmare.",
        abilities: ["Shadow Control", "Stealth", "Weaving"],
        firstAppearance: 1,
        image: "ðŸ‘¤",
        stats: {
            cunning: 9,
            combat: 7,
            survival: 8
        }
    },
    {
        id: 2,
        name: "Nephis",
        alias: "Changing Star",
        aspect: "Light",
        rank: "Awakened",
        description: "A mysterious and powerful Awakened from a prestigious clan. She becomes Sunny's master.",
        abilities: ["Light Manipulation", "Swordsmanship", "Leadership"],
        firstAppearance: 45,
        image: "ðŸ‘‘",
        stats: {
            cunning: 8,
            combat: 9,
            survival: 7
        }
    },
    {
        id: 3,
        name: "Cassie",
        alias: "",
        aspect: "Seer",
        rank: "Awakened",
        description: "A blind girl who can see the future. She forms a close bond with Sunny during their trials.",
        abilities: ["Future Sight", "Divination", "Insight"],
        firstAppearance: 23,
        image: "ðŸ”®",
        stats: {
            cunning: 7,
            combat: 5,
            survival: 6
        }
    },
    {
        id: 4,
        name: "Mordret",
        alias: "",
        aspect: "Mirror",
        rank: "Master",
        description: "A powerful and enigmatic Master who can manipulate reflections and create mirror copies.",
        abilities: ["Mirror Duplication", "Reflection Walking", "Illusions"],
        firstAppearance: 320,
        image: "ðŸªž",
        stats: {
            cunning: 10,
            combat: 8,
            survival: 9
        }
    },
    {
        id: 5,
        name: "Kai",
        alias: "Harper",
        aspect: "Song",
        rank: "Awakened",
        description: "A charismatic Awakened with the power to influence emotions through music.",
        abilities: ["Emotional Manipulation", "Charisma", "Music Magic"],
        firstAppearance: 150,
        image: "ðŸŽµ",
        stats: {
            cunning: 6,
            combat: 6,
            survival: 7
        }
    },
    {
        id: 6,
        name: "Effie",
        alias: "",
        aspect: "War",
        rank: "Awakened",
        description: "A fierce warrior with enhanced strength and combat abilities.",
        abilities: ["Super Strength", "Combat Mastery", "Endurance"],
        firstAppearance: 110,
        image: "âš”ï¸",
        stats: {
            cunning: 5,
            combat: 9,
            survival: 8
        }
    },
    {
        id: 7,
        name: "Caster",
        alias: "",
        aspect: "Stone",
        rank: "Awakened",
        description: "A defensive specialist who can manipulate earth and stone to create barriers and fortifications.",
        abilities: ["Earth Manipulation", "Barrier Creation", "Defensive Stance"],
        firstAppearance: 95,
        image: "ðŸ›¡ï¸",
        stats: {
            cunning: 6,
            combat: 7,
            survival: 8
        }
    },
    {
        id: 8,
        name: "Jet",
        alias: "",
        aspect: "Wind",
        rank: "Awakened",
        description: "A swift and agile fighter who can manipulate air currents to enhance her speed and create cutting blades of wind.",
        abilities: ["Wind Control", "Enhanced Speed", "Air Blades"],
        firstAppearance: 180,
        image: "ðŸ’¨",
        stats: {
            cunning: 7,
            combat: 8,
            survival: 7
        }
    },
    {
        id: 9,
        name: "Seishan",
        alias: "",
        aspect: "Dream",
        rank: "Master",
        description: "A mysterious Master who can enter and manipulate dreams, creating powerful illusions that can affect reality.",
        abilities: ["Dream Walking", "Illusion Crafting", "Mental Manipulation"],
        firstAppearance: 420,
        image: "ðŸ’¤",
        stats: {
            cunning: 9,
            combat: 6,
            survival: 7
        }
    },
    {
        id: 10,
        name: "Morgan",
        alias: "Kingslayer",
        aspect: "Death",
        rank: "Master",
        description: "A feared Master with the power to manipulate death energy, capable of draining life force from his enemies.",
        abilities: ["Life Drain", "Necrotic Energy", "Soul Manipulation"],
        firstAppearance: 380,
        image: "ðŸ’€",
        stats: {
            cunning: 8,
            combat: 9,
            survival: 8
        }
    },
    {
        id: 11,
        name: "Luster",
        alias: "",
        aspect: "Radiance",
        rank: "Awakened",
        description: "A member of Nephis's clan who can create and manipulate light, using it both for illumination and as a weapon.",
        abilities: ["Light Constructs", "Blinding Flash", "Healing Light"],
        firstAppearance: 200,
        image: "ðŸ’¡",
        stats: {
            cunning: 6,
            combat: 7,
            survival: 6
        }
    },
    {
        id: 12,
        name: "Gunlaug",
        alias: "The Tyrant",
        aspect: "Dominion",
        rank: "Master",
        description: "The tyrannical ruler of the Bright Castle who uses his power to control and dominate others.",
        abilities: ["Mind Control", "Authority Aura", "Command Presence"],
        firstAppearance: 300,
        image: "ðŸ‘‘",
        stats: {
            cunning: 8,
            combat: 8,
            survival: 7
        }
    },
    {
        id: 13,
        name: "Aster",
        alias: "",
        aspect: "Star",
        rank: "Master",
        description: "A powerful Master who can manipulate stellar energy, calling upon the power of stars for devastating attacks.",
        abilities: ["Stellar Energy", "Gravity Control", "Celestial Projection"],
        firstAppearance: 550,
        image: "â­",
        stats: {
            cunning: 7,
            combat: 9,
            survival: 7
        }
    },
    {
        id: 14,
        name: "Noctis",
        alias: "",
        aspect: "Night",
        rank: "Master",
        description: "A Master who commands the power of darkness and night, able to shroud areas in impenetrable darkness.",
        abilities: ["Darkness Manipulation", "Shadow Travel", "Night Vision"],
        firstAppearance: 480,
        image: "ðŸŒ™",
        stats: {
            cunning: 8,
            combat: 7,
            survival: 8
        }
    },
    {
        id: 15,
        name: "Lily",
        alias: "",
        aspect: "Nature",
        rank: "Awakened",
        description: "An Awakened with the ability to communicate with and control plants, using them for both offense and defense.",
        abilities: ["Plant Control", "Healing Herbs", "Nature Communication"],
        firstAppearance: 220,
        image: "ðŸŒ¿",
        stats: {
            cunning: 6,
            combat: 6,
            survival: 9
        }
    },
    {
        id: 16,
        name: "Quentin",
        alias: "",
        aspect: "Memory",
        rank: "Awakened",
        description: "A scholar-type Awakened who can access and manipulate memories, both his own and those of others.",
        abilities: ["Memory Reading", "Memory Alteration", "Knowledge Absorption"],
        firstAppearance: 260,
        image: "ðŸ§ ",
        stats: {
            cunning: 9,
            combat: 4,
            survival: 5
        }
    },
    {
        id: 17,
        name: "Beth",
        alias: "",
        aspect: "Water",
        rank: "Awakened",
        description: "A fluid fighter who can manipulate water in all its forms, from gentle streams to crushing tidal waves.",
        abilities: ["Water Control", "Ice Manipulation", "Healing Waters"],
        firstAppearance: 190,
        image: "ðŸ’§",
        stats: {
            cunning: 7,
            combat: 7,
            survival: 7
        }
    },
    {
        id: 18,
        name: "Raven",
        alias: "",
        aspect: "Omen",
        rank: "Master",
        description: "A mysterious Master associated with prophecies and fate, able to see possible futures and manipulate probability.",
        abilities: ["Probability Manipulation", "Future Sight", "Fate Weaving"],
        firstAppearance: 520,
        image: "ðŸ¦â€â¬›",
        stats: {
            cunning: 10,
            combat: 5,
            survival: 6
        }
    },
    {
        id: 19,
        name: "Jax",
        alias: "",
        aspect: "Chaos",
        rank: "Master",
        description: "An unpredictable Master who thrives on disorder, able to create chaotic energy fields that disrupt abilities and cause confusion.",
        abilities: ["Chaos Generation", "Ability Disruption", "Reality Warping"],
        firstAppearance: 580,
        image: "ðŸŒ€",
        stats: {
            cunning: 8,
            combat: 8,
            survival: 7
        }
    },
    {
        id: 20,
        name: "Sylph",
        alias: "",
        aspect: "Sky",
        rank: "Awakened",
        description: "A graceful Awakened who can manipulate air currents to fly and create powerful wind-based attacks.",
        abilities: ["Flight", "Wind Blades", "Atmospheric Control"],
        firstAppearance: 240,
        image: "ðŸŒªï¸",
        stats: {
            cunning: 6,
            combat: 7,
            survival: 7
        }
    },
    {
        id: 21,
        name: "Orion",
        alias: "",
        aspect: "Hunter",
        rank: "Master",
        description: "A relentless tracker and hunter who can sense his prey from great distances and never loses their trail.",
        abilities: ["Enhanced Tracking", "Prey Sense", "Hunter's Mark"],
        firstAppearance: 450,
        image: "ðŸ¹",
        stats: {
            cunning: 8,
            combat: 8,
            survival: 9
        }
    },
    {
        id: 22,
        name: "Iris",
        alias: "",
        aspect: "Flame",
        rank: "Awakened",
        description: "A passionate Awakened who commands the power of fire, able to create and control flames of various intensities.",
        abilities: ["Fire Manipulation", "Heat Resistance", "Pyrokinesis"],
        firstAppearance: 170,
        image: "ðŸ”¥",
        stats: {
            cunning: 6,
            combat: 8,
            survival: 6
        }
    },
    {
        id: 23,
        name: "Valerius",
        alias: "",
        aspect: "Order",
        rank: "Master",
        description: "A disciplined Master who imposes order on chaos, able to create structured energy fields and nullify chaotic effects.",
        abilities: ["Order Manifestation", "Chaos Nullification", "Structural Reinforcement"],
        firstAppearance: 510,
        image: "âš–ï¸",
        stats: {
            cunning: 8,
            combat: 7,
            survival: 7
        }
    },
    {
        id: 24,
        name: "Zephyr",
        alias: "",
        aspect: "Storm",
        rank: "Master",
        description: "A tempestuous Master who commands the power of storms, able to summon lightning, thunder, and torrential rains.",
        abilities: ["Lightning Control", "Storm Summoning", "Weather Manipulation"],
        firstAppearance: 490,
        image: "â›ˆï¸",
        stats: {
            cunning: 7,
            combat: 9,
            survival: 7
        }
    },
    {
        id: 25,
        name: "Corvus",
        alias: "",
        aspect: "Knowledge",
        rank: "Master",
        description: "A scholarly Master who collects and hoards information, able to access vast stores of knowledge and uncover secrets.",
        abilities: ["Information Access", "Secret Revelation", "Mental Library"],
        firstAppearance: 530,
        image: "ðŸ“š",
        stats: {
            cunning: 10,
            combat: 5,
            survival: 6
        }
    }
];

        const timelineEvents = [
            {
                id: 1,
                title: "The First Nightmare",
                description: "Sunny is chosen by the Spell and enters his first nightmare, where he discovers his Aspect.",
                chapter: 1,
                significance: "major"
            },
            {
                id: 2,
                title: "Meeting Nephis",
                description: "Sunny encounters Nephis for the first time and becomes her slave.",
                chapter: 45,
                significance: "major"
            },
            {
                id: 3,
                title: "The Forgotten Shore",
                description: "The group arrives at the Forgotten Shore, a dangerous abandoned city filled with Nightmare Creatures.",
                chapter: 120,
                significance: "major"
            },
            {
                id: 4,
                title: "Defeating Gunlaug",
                description: "Sunny and Nephis defeat the tyrant Gunlaug and free the slaves of the Bright Castle.",
                chapter: 350,
                significance: "major"
            },
            {
                id: 5,
                title: "The Second Nightmare",
                description: "Sunny enters his second nightmare and faces new challenges that test his abilities and resolve.",
                chapter: 480,
                significance: "major"
            },
            {
                id: 6,
                title: "The Fall of Falcon Scott",
                description: "The human settlement of Falcon Scott falls to a devastating Nightmare Creature invasion.",
                chapter: 890,
                significance: "major"
            }
        ];

        const echoes = [
            {
                id: 1,
                name: "Shadow Serpent",
                rank: "Monster",
                type: "Combat",
                description: "A serpentine creature made of living shadow that can constrict enemies and move through shadows.",
                abilities: ["Shadow Blend", "Constriction", "Shadow Travel"],
                acquired: 85,
                image: "ðŸ"
            },
            {
                id: 2,
                name: "Memory of the Forgotten King",
                rank: "Tyrant",
                type: "Utility",
                description: "An echo containing the memories of a long-forgotten king, granting knowledge of ancient history and lost techniques.",
                abilities: ["Historical Knowledge", "Tactical Insight", "Royal Authority"],
                acquired: 210,
                image: "ðŸ‘‘"
            },
            {
                id: 3,
                name: "Starlight Sprite",
                rank: "Beast",
                type: "Support",
                description: "A small creature of pure light that can heal minor wounds and provide illumination in dark places.",
                abilities: ["Minor Healing", "Light Generation", "Scouting"],
                acquired: 150,
                image: "âœ¨"
            },
            {
                id: 4,
                name: "Stone Golem",
                rank: "Monster",
                type: "Defense",
                description: "A hulking creature made of animated stone that can absorb tremendous amounts of damage.",
                abilities: ["Stone Skin", "Earth Manipulation", "Heavy Impact"],
                acquired: 290,
                image: "ðŸ—¿"
            },
            {
                id: 5,
                name: "Nightmare Weaver",
                rank: "Devil",
                type: "Utility",
                description: "A terrifying creature that can manipulate dreams and create powerful illusions.",
                abilities: ["Dream Manipulation", "Illusion Crafting", "Fear Induction"],
                acquired: 520,
                image: "ðŸ•·ï¸"
            },
            {
                id: 6,
                name: "Abyssal Kraken",
                rank: "Tyrant",
                type: "Combat",
                description: "A massive sea creature from the depths of the nightmare with immense strength and tentacles that can crush ships.",
                abilities: ["Tentacle Crush", "Water Control", "Deep Sea Adaptation"],
                acquired: 680,
                image: "ðŸ™"
            }
        ];

        const theories = [
            {
                id: 1,
                title: "The True Nature of the Spell",
                content: "I believe the Spell is not a random phenomenon but a carefully designed system created by an ancient civilization to prepare humanity for a coming threat.",
                author: "LoreSeeker",
                tags: ["Spell", "Ancient Civilization", "World Building"],
                upvotes: 42,
                date: "2023-10-15"
            },
            {
                id: 2,
                title: "Sunny's True Name Theory",
                content: "Based on the patterns we've seen with other characters' True Names, I think Sunny's True Name will be related to his connection with shadows and his ability to weave fate.",
                author: "NameAnalyst",
                tags: ["Sunny", "True Name", "Weaver"],
                upvotes: 38,
                date: "2023-11-02"
            },
            {
                id: 3,
                title: "Nephis' Endgame",
                content: "I suspect Nephis has a much larger plan than we've been shown, and her relationship with Sunny is a key part of that plan.",
                author: "PlotDetective",
                tags: ["Nephis", "Character Motivation", "Endgame"],
                upvotes: 29,
                date: "2023-11-20"
            },
            {
                id: 4,
                title: "The Connection Between Shadows and Fate",
                content: "There seems to be a deep connection between Shadow God and Weaver. I believe Sunny's aspect allows him to manipulate fate itself through shadows.",
                author: "AspectResearcher",
                tags: ["Shadow God", "Weaver", "Fate Manipulation"],
                upvotes: 31,
                date: "2023-12-05"
            }
        ];

        const characterGrid = document.getElementById('characterGrid');
        const timelineContainer = document.getElementById('timelineContainer');
        const echoGallery = document.getElementById('echoGallery');
        const theoryList = document.getElementById('theoryList');
        const currentChapterInput = document.getElementById('currentChapter');
        const saveChapterBtn = document.getElementById('saveChapter');
        const spoilerStatus = document.getElementById('spoilerStatus');
        const submitTheoryBtn = document.getElementById('submitTheory');
        const exploreBtn = document.getElementById('exploreBtn');
        const toTopBtn = document.getElementById('toTopBtn');
        const themeToggle = document.getElementById('themeToggle');
        const discordBtn = document.getElementById('discordBtn');

        let currentChapter = 1;

        document.addEventListener('DOMContentLoaded', function() {
            const savedChapter = localStorage.getItem('shadowSlaveCurrentChapter');
            if (savedChapter) {
                currentChapter = parseInt(savedChapter);
                currentChapterInput.value = currentChapter;
                updateSpoilerStatus();
            }
            
            renderCharacters();
            renderTimeline();
            renderEchoes();
            renderTheories();
            setupEventListeners();
        });

        function setupEventListeners() {
            saveChapterBtn.addEventListener('click', saveCurrentChapter);
            submitTheoryBtn.addEventListener('click', submitTheory);
            exploreBtn.addEventListener('click', function() {
                document.getElementById('characters').scrollIntoView({ behavior: 'smooth' });
            });
            
            toTopBtn.addEventListener('click', function() {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
            
            themeToggle.addEventListener('click', toggleTheme);
            discordBtn.addEventListener('click', function() {
                alert("Join our Discord community to discuss Shadow Slave!");
            });
            
            document.querySelectorAll('nav a').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    if (targetId !== '#') {
                        document.querySelector(targetId).scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                });
            });
            
            document.querySelector('.search-btn').addEventListener('click', performSearch);
            document.querySelector('.search-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });
        }

        function saveCurrentChapter() {
            currentChapter = parseInt(currentChapterInput.value) || 1;
            localStorage.setItem('shadowSlaveCurrentChapter', currentChapter);
            updateSpoilerStatus();
            
            renderCharacters();
            renderTimeline();
            renderEchoes();
        }

        function updateSpoilerStatus() {
            spoilerStatus.textContent = `Spoiler protection: ON (Chapter ${currentChapter})`;
        }

        function isSpoiler(revealedInChapter) {
            return revealedInChapter > currentChapter;
        }

        function createSpoilerOverlay(revealedInChapter) {
            const overlay = document.createElement('div');
            overlay.className = 'spoiler-overlay';
            overlay.innerHTML = `<div class="spoiler-text"><i class="fas fa-eye-slash"></i> Revealed in Chapter ${revealedInChapter}</div>`;
            
            overlay.addEventListener('click', function() {
                this.parentElement.classList.remove('spoiler-blur');
                this.remove();
            });
            
            return overlay;
        }

        function renderCharacters() {
            characterGrid.innerHTML = '';
            
            characters.forEach(character => {
                const card = document.createElement('div');
                card.className = 'character-card';
                
                if (isSpoiler(character.firstAppearance)) {
                    card.classList.add('spoiler-blur');
                }
                
                card.innerHTML = `
                    <div class="character-image">${character.image}</div>
                    <div class="character-info">
                        <h3 class="character-name">${character.name} ${character.alias ? `<span style="color: var(--text-secondary); font-size: 1rem;">(${character.alias})</span>` : ''}</h3>
                        <div class="character-aspect">${character.aspect} â€¢ ${character.rank}</div>
                        <p class="character-description">${character.description}</p>
                        <div class="character-stats">
                            <div class="stat">
                                <div class="stat-value">${character.stats.cunning}</div>
                                <div class="stat-label">Cunning</div>
                            </div>
                            <div class="stat">
                                <div class="stat-value">${character.stats.combat}</div>
                                <div class="stat-label">Combat</div>
                            </div>
                            <div class="stat">
                                <div class="stat-value">${character.stats.survival}</div>
                                <div class="stat-label">Survival</div>
                            </div>
                        </div>
                    </div>
                `;
                
                if (isSpoiler(character.firstAppearance)) {
                    card.appendChild(createSpoilerOverlay(character.firstAppearance));
                }
                
                characterGrid.appendChild(card);
            });
        }

        function renderTimeline() {
            timelineContainer.innerHTML = '';
            
            timelineEvents.forEach((event, index) => {
                const item = document.createElement('div');
                item.className = 'timeline-item';
                
                if (isSpoiler(event.chapter)) {
                    item.classList.add('spoiler-blur');
                }
                
                item.innerHTML = `
                    <div class="timeline-content">
                        <h4 class="timeline-title">${event.title}</h4>
                        <div class="timeline-chapter"><i class="fas fa-book"></i> Chapter ${event.chapter}</div>
                        <p>${event.description}</p>
                    </div>
                `;
                
                if (isSpoiler(event.chapter)) {
                    item.appendChild(createSpoilerOverlay(event.chapter));
                }
                
                timelineContainer.appendChild(item);
            });
        }

        function renderEchoes() {
            echoGallery.innerHTML = '';
            
            echoes.forEach(echo => {
                const card = document.createElement('div');
                card.className = 'echo-card';
                
                if (isSpoiler(echo.acquired)) {
                    card.classList.add('spoiler-blur');
                }
                
                card.innerHTML = `
                    <div class="echo-image">${echo.image}</div>
                    <div class="echo-info">
                        <h3 class="echo-name">${echo.name}</h3>
                        <div class="echo-rank">${echo.rank} â€¢ ${echo.type}</div>
                        <p>${echo.description}</p>
                    </div>
                `;
                
                if (isSpoiler(echo.acquired)) {
                    card.appendChild(createSpoilerOverlay(echo.acquired));
                }
                
                echoGallery.appendChild(card);
            });
        }

        function renderTheories() {
            theoryList.innerHTML = '';
            
            theories.forEach(theory => {
                const card = document.createElement('div');
                card.className = 'theory-card';
                
                card.innerHTML = `
                    <div class="theory-header">
                        <div>
                            <h3 class="theory-title">${theory.title}</h3>
                            <div class="theory-meta">By ${theory.author} â€¢ ${theory.date}</div>
                        </div>
                        <div class="theory-upvotes">
                            <button class="upvote-btn" data-theory="${theory.id}">
                                <span>â–²</span> ${theory.upvotes}
                            </button>
                        </div>
                    </div>
                    <p>${theory.content}</p>
                    <div class="theory-tags">
                        ${theory.tags.map(tag => `<span class="theory-tag">${tag}</span>`).join('')}
                    </div>
                    <div class="theory-actions">
                        <button class="upvote-btn" data-theory="${theory.id}">
                            <span>â–²</span> Upvote
                        </button>
                        <button class="upvote-btn">
                            <span>ðŸ’¬</span> Comment
                        </button>
                    </div>
                `;
                
                theoryList.appendChild(card);
            });
            
            document.querySelectorAll('.upvote-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const theoryId = this.getAttribute('data-theory');
                    if (theoryId) {
                        upvoteTheory(theoryId);
                    }
                });
            });
        }

        function submitTheory() {
            const title = document.getElementById('theoryTitle').value;
            const content = document.getElementById('theoryContent').value;
            const tags = document.getElementById('theoryTags').value;
            
            if (!title || !content) {
                alert('Please fill in both title and content for your theory.');
                return;
            }
            
            const newTheory = {
                id: theories.length + 1,
                title: title,
                content: content,
                author: "You",
                tags: tags.split(',').map(tag => tag.trim()),
                upvotes: 0,
                date: new Date().toISOString().split('T')[0]
            };
            
            theories.unshift(newTheory);
            renderTheories();
            
            document.getElementById('theoryTitle').value = '';
            document.getElementById('theoryContent').value = '';
            document.getElementById('theoryTags').value = '';
            
            alert('Theory submitted successfully!');
        }

        function upvoteTheory(theoryId) {
            const theory = theories.find(t => t.id == theoryId);
            if (theory) {
                theory.upvotes++;
                renderTheories();
            }
        }

        function toggleTheme() {
            document.body.classList.toggle('light-theme');
            themeToggle.innerHTML = document.body.classList.contains('light-theme') ? 
                '<i class="fas fa-moon"></i>' : '<i class="fas fa-sun"></i>';
        }

        function performSearch() {
            const query = document.querySelector('.search-input').value.toLowerCase();
            if (!query) return;
            
            alert(`Searching for: "${query}"\n\nThis feature would search through characters, echoes, and theories in a full implementation.`);
        }
    </script>
</body>
</html>
